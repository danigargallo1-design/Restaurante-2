<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>La Antigua Mesa | Alta Cocina</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@500;700&family=Montserrat:wght@300;500;600&display=swap" rel="stylesheet">

<style>
:root{
    --marron:#7a4a2e;
    --crema:#f4efe6;
    --oscuro:#1e1a17;
}

*{margin:0;padding:0;box-sizing:border-box}

body{
    font-family:'Montserrat',sans-serif;
    background:var(--crema);
    color:#333;
    scroll-behavior:smooth;
}

/* NAV */
nav{
    position:fixed;
    top:0;
    width:100%;
    padding:18px 30px;
    background:rgba(30,26,23,.96);
    display:flex;
    justify-content:space-between;
    align-items:center;
    z-index:1000;
}

.logo{
    font-family:'Playfair Display',serif;
    font-size:1.4rem;
    color:#f5e9d6;
}

.menu{
    display:flex;
    gap:25px;
}

.menu a{
    color:#e8dcc8;
    text-decoration:none;
    font-weight:500;
    position:relative;
}

.menu a::after{
    content:"";
    position:absolute;
    bottom:-6px;
    left:0;
    width:0;
    height:2px;
    background:var(--marron);
    transition:.3s;
}
.menu a:hover::after{width:100%}

.hamburger{
    display:none;
    flex-direction:column;
    cursor:pointer;
}
.hamburger span{
    width:25px;
    height:3px;
    background:#e8dcc8;
    margin:4px 0;
}

/* HERO */
header{
    height:100vh;
    background:
        linear-gradient(rgba(0,0,0,.65),rgba(0,0,0,.65)),
        url("https://images.unsplash.com/photo-1518188770546-efd25d4ca263?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8Mnx8cmVzdGF1cmFudGUlMjB2aW50YWdlfGVufDB8fDB8fHww") center/cover;
    display:flex;
    align-items:center;
    justify-content:center;
    text-align:center;
}

header h1{
    font-family:'Playfair Display',serif;
    font-size:4.5rem;
    color:#f5e9d6;
}

header p{
    margin-top:20px;
    font-size:1.2rem;
    color:#e0d6c4;
}

.btn-reservas{
    display:inline-block;
    margin-top:35px;
    padding:16px 45px;
    background:var(--marron);
    color:white;
    text-decoration:none;
    border-radius:40px;
    font-size:1.1rem;
    transition:.3s;
}
.btn-reservas:hover{transform:scale(1.07)}

/* SECCIONES */
section{
    padding:100px 12%;
}
section h2{
    font-family:'Playfair Display',serif;
    font-size:2.8rem;
    text-align:center;
    margin-bottom:40px;
}

/* FILTROS */
.filtros{
    display:flex;
    justify-content:center;
    gap:15px;
    margin-bottom:40px;
}
.filtros button{
    padding:10px 25px;
    border:none;
    border-radius:30px;
    background:#ddd;
    cursor:pointer;
}
.filtros button.activo{
    background:var(--marron);
    color:white;
}

/* CARTA */
.menu-carta{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
    gap:30px;
}

.plato{
    background:white;
    padding:28px;
    border-radius:18px;
    box-shadow:0 20px 40px rgba(0,0,0,.12);
    transition:.4s;
}
.plato:hover{transform:translateY(-10px)}

.plato p{
    margin-top:10px;
    color:#666;
    font-size:.95rem;
}

.precio{
    float:right;
    color:var(--marron);
    font-weight:700;
}

.iconos{
    display:flex;
    gap:10px;
    margin:10px 0;
    font-size:1.2rem;
}

.plato{
    transition:
        opacity .35s ease,
        transform .35s ease;
}

.plato.oculto{
    opacity:0;
    transform:scale(.95);
}

/* GALER√çA */
.galeria{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
    gap:25px;
}
.galeria img{
    width:100%;
    border-radius:18px;
    cursor:pointer;
    transition:.4s;
}

.galeria{
    display:grid;
    grid-template-columns:repeat(auto-fit,minmax(280px,1fr));
    gap:25px;
}

.foto{
    height:240px;
    border-radius:18px;
    overflow:hidden;
    box-shadow:0 18px 35px rgba(0,0,0,.18);
    transition:.4s;
}

.foto img{
    width:100%;
    height:100%;
    object-fit:cover;
    cursor:pointer;
    transition:.5s;
}

.foto:hover img{
    transform:scale(1.08);
}

.galeria img:hover{transform:scale(1.05)}

/* MODAL */
#modal{
    position:fixed;
    inset:0;
    background:rgba(0,0,0,.9);
    display:none;
    align-items:center;
    justify-content:center;
}
#modal img{
    max-width:85%;
    border-radius:20px;
}

/* CONTACTO */
form{
    max-width:550px;
    margin:auto;
}
input,textarea{
    width:100%;
    padding:16px;
    margin-bottom:15px;
    border:none;
    border-radius:10px;
}
form button{
    width:100%;
    padding:16px;
    border:none;
    border-radius:10px;
    background:var(--marron);
    color:white;
}

/* ===================== */
/* ===== RESE√ëAS ====== */
/* ===================== */

.resenas{
    max-width:800px;
    margin:auto;
    display:grid;
    gap:20px;
}

.resena{
    background:white;
    padding:22px;
    border-left:6px solid var(--marron);
    border-radius:14px;
    position:relative;
    display:flex;
    justify-content:space-between;
    align-items:flex-start;
    animation:fadeIn .4s ease;
}

.resena .nombre{
    font-size:.75rem;
    color:#777;
    margin-top:8px;
}

.resena .acciones{
    display:flex;
    flex-direction:column;
    align-items:flex-end;
    gap:8px;
}

.resena.fija .acciones{
    display:none;
}

/* ===== BOTONES RESE√ëAS ===== */

.add-resena{
    text-align:center;
    margin-top:35px;
}

.add-resena button{
    padding:14px 35px;
    border:none;
    border-radius:35px;
    background:var(--marron);
    color:white;
    font-size:1.05rem;
    cursor:pointer;
    transition:.3s;
}

.add-resena button:hover{
    transform:scale(1.07);
}

/* ===== FORMULARIO ===== */

.form-resena{
    max-width:520px;
    margin:40px auto 0;
    display:none;
    animation:fadeUp .5s ease;
}

.form-resena input,
.form-resena textarea{
    width:100%;
    padding:15px;
    margin-bottom:15px;
    border:none;
    border-radius:10px;
}

/* ===== ESTRELLAS ===== */

.estrellas{
    display:flex;
    justify-content:center;
    gap:10px;
    font-size:2rem;
    cursor:pointer;
    margin:20px 0;
}

.estrellas span{
    color:#ccc;
    transition:.3s;
}

.estrellas span.activa{
    color:#f5b301;
    transform:scale(1.2);
}

/* ===== PAPELERA ===== */

.btn-trash{
    background:none;
    border:none;
    cursor:pointer;
    font-size:1.1rem;
    opacity:.6;
}

.btn-trash:hover{
    opacity:1;
}

.confirmar{
    background:#b23a3a;
    color:white;
    border:none;
    padding:6px 14px;
    border-radius:20px;
    font-size:.75rem;
    cursor:pointer;
    animation:fadeIn .3s ease;
}

/* ===================== */
/* ===== FOOTER ======= */
/* ===================== */

footer{
    width:100%;
    background:var(--oscuro);
    color:#d8cbb5;
    padding:45px 20px;
    text-align:center;
    margin:0;
}


/* ===================== */
/* === RESPONSIVE ====== */
/* ===================== */

@media(max-width:768px){
    .menu{
        position:absolute;
        top:65px;
        right:0;
        background:var(--oscuro);
        flex-direction:column;
        padding:20px;
        display:none;
    }

    .menu.show{
        display:flex;
    }

    .hamburger{
        display:flex;
    }

    header h1{
        font-size:3rem;
    }

    section{
        padding:80px 8%;
    }
}

/* ===================== */
/* === ANIMACIONES ===== */
/* ===================== */

@keyframes fadeIn{
    from{opacity:0;transform:translateY(10px)}
    to{opacity:1;transform:none}
}

@keyframes fadeUp{
    from{opacity:0;transform:translateY(20px)}
    to{opacity:1;transform:none}
}

.media-resenas{
    text-align:center;
    margin-bottom:30px;
    font-size:1.1rem;
    color:#555;
}

.media-resenas #mediaValor{
    font-weight:700;
    color:var(--marron);
    font-size:1.4rem;
}

.media-resenas .contador{
    font-size:.9rem;
    color:#888;
    margin-left:6px;
}

#toast{
    position:fixed;
    bottom:30px;
    right:30px;
    background:#1e1a17;
    color:#f5e9d6;
    padding:14px 22px;
    border-radius:12px;
    font-size:.95rem;
    box-shadow:0 15px 30px rgba(0,0,0,.35);
    opacity:0;
    pointer-events:none;
    transform:translateY(20px);
    transition:.4s;
    z-index:3000;
}

#toast.mostrar{
    opacity:1;
    transform:none;
}
.plato{
    transform:translate3d(0,0,0);
    transition:
        transform .35s ease,
        box-shadow .35s ease;
    will-change: transform;
}

.plato:hover{
    transform:translateY(-12px);
    box-shadow:0 30px 60px rgba(0,0,0,.18);
}

.plato h3{
    font-size:1.2rem;
    margin-bottom:8px;
}

.plato .descripcion{
    font-size:.95rem;
    color:#666;
    line-height:1.5;
    margin-bottom:14px;
}

.plato .precio{
    float:right;
    color:var(--marron);
    font-weight:700;
}

.iconos span{
    background:#f3efe8;
    padding:6px 10px;
    border-radius:20px;
    font-size:.9rem;
    transition:.3s;
}

.iconos span:hover{
    background:var(--marron);
    color:white;
}
.plato{
    animation: fadeInUp .35s ease;
}

@keyframes fadeInUp{
    from{
        opacity:0;
        transform:translateY(12px);
    }
    to{
        opacity:1;
        transform:none;
    }
}

/* BADGE CHEF */
.badge{
    position:absolute;
    top:16px;
    left:-40px;
    background:var(--marron);
    color:white;
    padding:6px 45px;
    font-size:.7rem;
    font-weight:600;
    transform:rotate(-45deg);
}

/* PLATO DESTACADO */
.plato.recomendado{
    border:2px solid rgba(122,74,46,.25);
}

/* ===== ANIMACI√ìN SCROLL ===== */
.scroll{
    opacity:0;
    transform:translate3d(0,25px,0);
    will-change: transform, opacity;
    transition: transform .7s ease, opacity .7s ease;
}


.scroll.visible{
    opacity:1;
    transform:none;
}


/* Quitar highlight azul en m√≥vil */
*{
    -webkit-tap-highlight-color: transparent;
    outline: none;
}
@media (max-width: 768px){

    html{
        font-size: 92%;
    }

    body{
        overflow-x: hidden;
    }

    /* NAV */
    nav{
        padding: 12px 16px;
    }

    .logo{
        font-size: 1.15rem;
    }

    .menu a{
        font-size: .95rem;
    }

    /* HERO */
    header{
        height: 80vh;
        padding: 0 6%;
    }

    header h1{
        font-size: 2.4rem;
        line-height: 1.05;
    }

    header p{
        font-size: .95rem;
        margin-top: 14px;
    }

    .btn-reservas{
        margin-top: 28px;
        padding: 13px 30px;
        font-size: .95rem;
    }

    /* SECCIONES */
    section{
        padding: 65px 6%;
    }

    section h2{
        font-size: 2.05rem;
        margin-bottom: 28px;
    }


 /* FILTROS CARTA ‚Äì una sola l√≠nea en m√≥vil */
.filtros{
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 6px;
}

.filtros button{
    width: 100%;
    padding: 8px 0;
    font-size: .82rem;
    border-radius: 22px;
}

@media (max-width: 360px){
    .filtros button{
        font-size: .75rem;
    }
}

    /* CARTA */
    .menu-carta{
        gap: 18px;
    }

    .plato{
        padding: 20px;
        border-radius: 16px;
    }

    .plato h3{
        font-size: 1.05rem;
    }

    .plato p{
        font-size: .9rem;
    }

    .iconos span{
        font-size: .8rem;
        padding: 5px 9px;
    }

  /* GALER√çA ‚Äì m√≥vil m√°s compacta */
.galeria{
    grid-template-columns: repeat(2, 1fr);
    gap: 12px;
}
@media (max-width: 360px){
    .foto{
        height: 140px;
    }
}

.foto{
    height: 160px;
}


    .foto{
        height: 210px;
        border-radius: 16px;
    }

    /* RESE√ëAS */
    .resena{
        flex-direction: column;
        gap: 10px;
        padding: 18px;
    }

    .resena .acciones{
        align-items: flex-start;
    }

    /* FOOTER */
    footer{
        padding: 30px 16px;
        font-size: .85rem;
    }
}
button, a, .plato, .foto{
    touch-action: manipulation;
}

</style>
</head>

<body>

<nav>
    <div class="logo">La Antigua Mesa</div>
    <div class="menu" id="menu">
        <a href="#carta">Carta</a>
        <a href="#galeria">Galer√≠a</a>
        <a href="#ubicacion">Ubicaci√≥n</a>
        <a href="#contacto">Contacto</a>
        <a href="#resenas">Rese√±as</a>
        <a href="reservas.html">Reservas</a>
    </div>
    <div class="hamburger" onclick="toggleMenu()">
        <span></span><span></span><span></span>
    </div>
</nav>

<header>
<div>
<h1>La Antigua Mesa</h1>
<p>Alta cocina tradicional desde 1954</p>
<a href="reservas.html" class="btn-reservas">Reservar mesa</a>
</div>
</header>

<section id="carta">
<h2>Nuestra Carta</h2>

<div class="filtros">
<button class="activo" onclick="filtrar('todo',this)">Todo</button>
<button onclick="filtrar('entrante',this)">Entrantes</button>
<button onclick="filtrar('principal',this)">Principales</button>
<button onclick="filtrar('postre',this)">Postres</button>
</div>

<div class="menu-carta">

<div class="plato entrante">
<h3>Jam√≥n Ib√©rico <span class="precio">18‚Ç¨</span></h3>
<div class="iconos">ü•© ‚≠ê</div>
<p>Corte a cuchillo con pan cristal.</p>
</div>

<div class="plato principal">
<h3>Cordero Asado <span class="precio">22‚Ç¨</span></h3>
<div class="iconos">üë®‚Äçüç≥ ü•©</div>
<p>Al horno de le√±a con hierbas.</p>
</div>

<div class="plato principal">
<h3>Risotto de Setas <span class="precio">17‚Ç¨</span></h3>
<div class="iconos">üå±</div>
<p>Cremoso con aceite de trufa.</p>
</div>

<div class="plato postre">
<h3>Torrija Caramelizada <span class="precio">8‚Ç¨</span></h3>
<div class="iconos">üç∞ ‚≠ê</div>
<p>Con helado de vainilla.</p>
</div>

<div class="plato entrante">
    <h3>Quesos Artesanos <span class="precio">14‚Ç¨</span></h3>
    <div class="iconos">üßÄ ‚≠ê</div>
    <p>Selecci√≥n de quesos nacionales con mermeladas caseras.</p>
</div>

<div class="plato entrante">
    <h3>Ensalada de Burrata <span class="precio">13‚Ç¨</span></h3>
    <div class="iconos">ü•ó üå±</div>
    <p>Tomate rosa, burrata fresca y pesto de albahaca.</p>
</div>

<div class="plato principal">
    <h3>Solomillo de Ternera <span class="precio">24‚Ç¨</span></h3>
    <div class="iconos">ü•© üë®‚Äçüç≥ ‚≠ê</div>
    <p>A la parrilla con salsa de vino tinto y patatas confitadas.</p>
</div>

<div class="plato principal">
    <h3>Bacalao Confitado <span class="precio">21‚Ç¨</span></h3>
    <div class="iconos">üêü ‚≠ê</div>
    <p>Con pil-pil suave y verduras de temporada.</p>
</div>

</div>
</section>

<section id="galeria">
<h2>Galer√≠a</h2>

<div class="galeria">

    <div class="foto scroll">
        <img
            src="https://images.unsplash.com/photo-1627526728741-3cbc44345010?fm=jpg&q=60&w=900"
            loading="lazy"
            decoding="async"
            onclick="abrirModal(this)"
            alt="Restaurante vintage interior">
    </div>

    <div class="foto scroll">
        <img
            src="https://media-cdn.tripadvisor.com/media/photo-m/1280/22/72/33/57/restaurant.jpg"
            loading="lazy"
            decoding="async"
            onclick="abrirModal(this)"
            alt="Comedor restaurante cl√°sico">
    </div>

    <div class="foto scroll">
        <img
            src="https://images.unsplash.com/photo-1521017432531-fbd92d768814?w=900"
            loading="lazy"
            decoding="async"
            onclick="abrirModal(this)"
            alt="Mesa restaurante antiguo">
    </div>

    <div class="foto scroll">
        <img
            src="https://images.unsplash.com/photo-1552566626-52f8b828add9?w=900"
            loading="lazy"
            decoding="async"
            onclick="abrirModal(this)"
            alt="Interior restaurante tradicional">
    </div>

    <div class="foto scroll">
        <img
            src="https://images.unsplash.com/photo-1544148103-0773bf10d330?w=900"
            loading="lazy"
            decoding="async"
            onclick="abrirModal(this)"
            alt="Ambiente restaurante vintage">
    </div>

    <div class="foto scroll">
        <img
            src="https://images.unsplash.com/photo-1555396273-367ea4eb4db5?w=900"
            loading="lazy"
            decoding="async"
            onclick="abrirModal(this)"
            alt="Detalle restaurante antiguo">
    </div>

</div>





<section id="contacto">
<h2>Contacto</h2>
<form onsubmit="event.preventDefault();alert('Mensaje enviado')">
<input placeholder="Nombre" required>
<input type="email" placeholder="Correo" required>
<textarea placeholder="Mensaje" required></textarea>
<button>Enviar mensaje</button>
</form>
</section>

<section id="resenas">
<h2>Rese√±as</h2>

<div class="media-resenas">
    <span id="mediaValor">0.0</span> / 5 ‚≠ê
    <span class="contador">¬∑ <span id="totalResenas">0</span> rese√±as</span>
</div>

<div class="resenas" id="listaResenas">

    <div class="resena fija">
        <div class="contenido">
            <div class="texto">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Experiencia espectacular</div>
            <div class="nombre">‚Äî Mar√≠a G.</div>
        </div>
    </div>

    <div class="resena fija">
        <div class="contenido">
            <div class="texto">‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê Cocina tradicional con nivel gourmet</div>
            <div class="nombre">‚Äî Carlos R.</div>
        </div>
    </div>

    <div class="resena fija">
        <div class="contenido">
            <div class="texto">‚≠ê‚≠ê‚≠ê‚≠ê Atenci√≥n excelente</div>
            <div class="nombre">‚Äî Laura M.</div>
        </div>
    </div>

</div>

<div class="add-resena">
    <button onclick="mostrarFormulario()">‚úçÔ∏è Escribir rese√±a</button>
</div>

<form id="formResena" class="form-resena" onsubmit="agregarResena(event)">
    <input type="text" id="nombre" placeholder="Tu nombre" required>

    <div class="estrellas">
        <span onclick="seleccionarEstrella(1)">‚òÖ</span>
        <span onclick="seleccionarEstrella(2)">‚òÖ</span>
        <span onclick="seleccionarEstrella(3)">‚òÖ</span>
        <span onclick="seleccionarEstrella(4)">‚òÖ</span>
        <span onclick="seleccionarEstrella(5)">‚òÖ</span>
    </div>

    <textarea id="texto" placeholder="Tu rese√±a" required></textarea>
    <button>Publicar rese√±a</button>
</form>
</section>

<section id="ubicacion">
<h2>Ubicaci√≥n</h2>
<iframe src="https://www.google.com/maps?q=Puerta%20del%20Sol%20Madrid&output=embed" width="100%" height="400" style="border-radius:18px;border:none"></iframe>
</section>

<footer>
¬© 2025 ¬∑ La Antigua Mesa ¬∑ Cocina con Historia
</footer>

<div id="modal" onclick="cerrarModal()">
<img id="modalImg">
</div>
<div id="toast"></div>
<script>
/* =========================
   VARIABLES GLOBALES
========================= */
let puntuacionSeleccionada = 0;

/* =========================
   UI
========================= */
function mostrarFormulario(){
    document.getElementById("formResena").style.display = "block";
}

function seleccionarEstrella(n){
    puntuacionSeleccionada = n;
    document.querySelectorAll(".estrellas span").forEach((s,i)=>{
        s.classList.toggle("activa", i < n);
    });
}

/* =========================
   NOTIFICACI√ìN ELEGANTE
========================= */
function mostrarToast(mensaje){
    const toast = document.getElementById("toast");
    toast.textContent = mensaje;
    toast.classList.add("mostrar");

    clearTimeout(toast.timeout);
    toast.timeout = setTimeout(()=>{
        toast.classList.remove("mostrar");
    }, 3000);
}


/* =========================
   A√ëADIR RESE√ëA
========================= */
function agregarResena(e){
    e.preventDefault();

    if(puntuacionSeleccionada === 0){
        mostrarToast("‚≠ê Selecciona una puntuaci√≥n");
        return;
    }

    const nombre = document.getElementById("nombre").value.trim();
    const texto = document.getElementById("texto").value.trim();
    const estrellas = "‚≠ê".repeat(puntuacionSeleccionada);

    const div = document.createElement("div");
    div.className = "resena";
    div.dataset.puntos = puntuacionSeleccionada;

    div.innerHTML = `
        <div class="contenido">
            <div class="texto">${estrellas} ${texto}</div>
            <div class="nombre">‚Äî ${nombre}</div>
        </div>
        <div class="acciones">
            <button class="btn-trash" onclick="mostrarConfirmacion(this)">üóëÔ∏è</button>
        </div>
    `;

    document.getElementById("listaResenas").appendChild(div);

    guardarResena({
        texto,
        nombre,
        puntos: puntuacionSeleccionada
    });

    actualizarMedia();

    e.target.reset();
    document.getElementById("formResena").style.display = "none";
    puntuacionSeleccionada = 0;
    document.querySelectorAll(".estrellas span").forEach(s=>s.classList.remove("activa"));

    mostrarToast("‚úÖ Rese√±a publicada");
}

/* =========================
   BORRAR RESE√ëA
========================= */
function mostrarConfirmacion(btn){
    const acciones = btn.parentElement;
    acciones.innerHTML = `
        <button class="confirmar" onclick="borrarResena(this)">Confirmar</button>
    `;
}

function borrarResena(btn){
    const resena = btn.closest(".resena");
    resena.style.opacity = 0;

    setTimeout(()=>{
        resena.remove();
        actualizarStorage();
        actualizarMedia();
        mostrarToast("üóëÔ∏è Rese√±a eliminada");
    },300);
}

/* =========================
   LOCAL STORAGE
========================= */
function guardarResena(obj){
    const guardadas = JSON.parse(localStorage.getItem("resenas")) || [];
    guardadas.push(obj);
    localStorage.setItem("resenas", JSON.stringify(guardadas));
}

function actualizarStorage(){
    const resenas = [];
    document.querySelectorAll(".resena:not(.fija)").forEach(r=>{
        resenas.push({
            texto: r.querySelector(".texto").innerText.replace(/^‚≠ê+ /,""),
            nombre: r.querySelector(".nombre").innerText.replace("‚Äî ",""),
            puntos: r.dataset.puntos
        });
    });
    localStorage.setItem("resenas", JSON.stringify(resenas));
}

function cargarResenas(){
    const guardadas = JSON.parse(localStorage.getItem("resenas")) || [];

    guardadas.forEach(r=>{
        const div = document.createElement("div");
        div.className = "resena";
        div.dataset.puntos = r.puntos;

        div.innerHTML = `
            <div class="contenido">
                <div class="texto">${"‚≠ê".repeat(r.puntos)} ${r.texto}</div>
                <div class="nombre">‚Äî ${r.nombre}</div>
            </div>
            <div class="acciones">
                <button class="btn-trash" onclick="mostrarConfirmacion(this)">üóëÔ∏è</button>
            </div>
        `;

        document.getElementById("listaResenas").appendChild(div);
    });

    actualizarMedia();
}

/* =========================
   MEDIA DE RESE√ëAS
========================= */
function actualizarMedia(){
    let total = 0;
    let suma = 0;

    document.querySelectorAll(".resena").forEach(r=>{
        const puntos = r.dataset.puntos || contarEstrellas(r.querySelector(".texto").innerText);
        suma += Number(puntos);
        total++;
    });

    document.getElementById("totalResenas").innerText = total;
    document.getElementById("mediaValor").innerText = total ? (suma/total).toFixed(1) : "0.0";
}

function contarEstrellas(texto){
    return (texto.match(/‚≠ê/g) || []).length;
}

/* =========================
   INIT
========================= */
cargarResenas();
</script>

<script>
function filtrar(tipo, btn){
    // Bot√≥n activo
    document.querySelectorAll(".filtros button")
        .forEach(b => b.classList.remove("activo"));
    btn.classList.add("activo");

    document.querySelectorAll(".plato").forEach(plato=>{
        if(tipo === "todo" || plato.classList.contains(tipo)){
            plato.style.display = "block";
            // reinicia animaci√≥n
            plato.style.animation = "none";
            plato.offsetHeight;
            plato.style.animation = "";
        }else{
            plato.style.display = "none";
        }
    });
}
</script>
<script>
const elementosScroll = document.querySelectorAll(
    "section, .plato, .foto, .resena, header h1, header p, .btn-reservas"
);

const observer = new IntersectionObserver(entries=>{
    entries.forEach(entry=>{
        if(entry.isIntersecting){
            entry.target.classList.add("visible");
            observer.unobserve(entry.target); // üî• deja de observar
        }
    });
},{ threshold:0.15 });


elementosScroll.forEach(el => {
    el.classList.add("scroll");
    observer.observe(el);
});


</script>
</body>
</html>